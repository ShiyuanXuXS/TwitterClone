@inject SignInManager<User> signInManager;

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - TwitterClone</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/TwitterClone.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <script src="https://cdn.ckeditor.com/ckeditor5/40.1.0/classic/ckeditor.js"></script>
</head>

<body>
    <div class="outermost">
        <div class="outer2">
            <div class="outer3">
                <div class="outer4">
                    <header class="fs-4 headerContainer">
                        <div class="sidebarContainerOuter sidebarLeft">

                            <div class="sidebarContainerInner">
                                @if (signInManager.IsSignedIn(User))
                                {
                                    <div class="sidebar sidebarLeft border-end">

                                        <div class="d-flex flex-column flex-shrink-0 p-3 bg-body-tertiary">
                                            <div class="mb-4 fs-5">
                                                <a asp-page="/Home"
                                                    class="d-block align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none fw-bold display-5 link-dark">

                                                    &#120144;
                                                </a>
                                                <ul class="nav nav-pills nav-flush flex-column mb-auto mt-4">
                                                    <li class="nav-item mb-2">
                                                        <a asp-page="/Home" class="nav-link p-2 text-dark"
                                                            aria-current="page">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                                                fill="currentColor" class="bi bi-house-heart-fill me-3 mb-1"
                                                                viewBox="0 0 16 16">
                                                                <path d="M7.293 1.5a1 1 0 0 1 1.414 0L11 3.793V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v3.293l2.354
                    2.353a.5.5 0
                    0
                    1-.708.707L8 2.207 1.354 8.853a.5.5 0 1 1-.708-.707L7.293 1.5Z" />
                                                                <path d="m14 9.293-6-6-6 6V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9.293Zm-6-.811c1.664-1.673
                    5.825
                    1.254 0
                    5.018-5.825-3.764-1.664-6.691 0-5.018Z" />
                                                            </svg>
                                                            <strong class="d-none d-xl-inline">Home</strong>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item mb-2">
                                                        <a asp-page="" class="nav-link link-body-emphasis p-2 text-dark">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                                                fill="currentColor" class="bi bi-bell me-3 mb-1"
                                                                viewBox="0 0 16 16">
                                                                <path
                                                                    d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z" />
                                                            </svg>
                                                            <div class="d-none d-xl-inline">Notifications</div>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item mb-2">
                                                        <a asp-page="/Messages"
                                                            class="nav-link link-body-emphasis p-2 text-dark">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                                                fill="currentColor" class="bi bi-envelope-heart me-3 mb-1"
                                                                viewBox="0 0 16 16">
                                                                <path fill-rule="evenodd"
                                                                    d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l3.235 1.94a2.76 2.76 0 0 0-.233 1.027L1 5.384v5.721l3.453-2.124c.146.277.329.556.55.835l-3.97 2.443A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741l-3.968-2.442c.22-.28.403-.56.55-.836L15 11.105V5.383l-3.002 1.801a2.76 2.76 0 0 0-.233-1.026L15 4.217V4a1 1 0 0 0-1-1H2Zm6 2.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z" />
                                                            </svg>
                                                            <div class="d-none d-xl-inline">Messages</div>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item mb-2">
                                                        <a asp-page="#" class="nav-link link-body-emphasis p-2 text-dark">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                                                fill="currentColor" class="bi bi-piggy-bank me-3 mb-1"
                                                                viewBox="0 0 16 16">
                                                                <path
                                                                    d="M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z" />
                                                                <path fill-rule="evenodd"
                                                                    d="M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z" />
                                                            </svg>
                                                            <div class="d-none d-xl-inline">Premium</div>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a asp-page="/User" asp-route-username="@User.Identity.Name"
                                                            class="nav-link link-body-emphasis p-2 text-dark">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                                                fill="currentColor" class="bi bi-person me-3 mb-1"
                                                                viewBox="0 0 16 16">
                                                                <path
                                                                    d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z" />
                                                            </svg>
                                                            <div class="d-none d-xl-inline">Profile</div>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="d-xl-none">
                                                <div class="btn btn-link bg-brand-color rounded-circle fw-bold text-white fs-3"
                                                    style="width: 50px; height: 50px;">
                                                    +
                                                </div>
                                            </div>
                                            <div class="d-none d-xl-block"> 
                                               <a asp-page="/ShowTweet/AddEditTweet" class="w-100 btn btn-link rounded rounded-pill bg-brand-color py-2 mb-5 fw-bold text-white fs-5">
                                               Post</a> 
                                            </div>
                                        </div>

                                        <div class="p3">
                                            <div class="mb-4" id="acctComponent">
                                                @await Component.InvokeAsync("AccountMenu")
                                            </div>
                                        </div>

                                    </div>
                                }
                            </div>
                        </div>
                    </header>



                    <main role="main" class="mainContainer">
                        <div class="container-fluid mainInner">
                            <input type="hidden" id="hfUsername" value="@User.Identity.Name" />
                            @RenderBody()
                        </div>
                    </main>
                </div>
            </div>
        </div>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/lib/microsoft/signalr/dist/browser/signalr.js"></script>
    <script src="~/js/notification.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)

    <script>
        $(document).ready(function () {
            $('#profile').click(function () {
                window.location.href = '/User/@User.Identity.Name';
            });

            $('.dropup').on('show.bs.dropdown', function () {
                $('body').append($('.dropdown-menu').css({
                    position: 'absolute',
                    left: $('.dropup').offset().left,
                    top: $('.dropup').offset().top
                }).detach());
            });

            $('.dropup').on('hidden.bs.dropdown', function () {
                $('#acctComponent').append($('.dropup').css({
                    position: false, left: false, top: false
                }).detach());
            });
        });
    </script>
</body>

</html>